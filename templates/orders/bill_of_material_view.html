<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title></title>
   <style type="text/css">
    *
    {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    } 


      table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 90%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  /*background-color: #dddddd;*/
}
.div1
{
   
  width: 800px;
  height: 789px;
  border: 1px solid black;
   border-radius: 15px 50px;
  box-shadow: 10px 11px 5px  lightgreen inset;
   /*border-radius: 15px 50px;
*/
}

.div2 {
  width: 800px;
  height: 900px;  
  padding: 0px;
  padding-right: 0%;
  
}
 
   </style>

</head>
<body>
<center>


   <div class="btn-class">
       <button class="btn btn-primary" style="padding: 8px; border-radius: 20px; font-size: 18px; "><a href="{% url 'bill_of_material' %}"  style="color:black;" >Back</a></button>
      <button id="pdf-button" onclick="savePage()" style="padding: 8px; border-radius: 20px; font-size: 18px;">Download PDF</button>
      <button id="print-button"  onclick="window.print()" style="padding: 8px; border-radius: 20px; font-size: 18px;">Print</button>

    </div>

   <div class="div1">
   <h1 style="padding-left: 5%;">WINWINGS PUBLICATIONS</h1>
   <img src="images/logo2 kohinoor.png"style="width: 5%;height: 5%;"><span style="padding-right: 3%;color: purple; font-size:400%;">KOHINOOR</span>
  <h4>776, GULGULWAR NIWAS, GOLIBAR CHOWK, NAGPUR</h4>
  
  <h4>GOLIBAR CHOWK, NAGPUR</h4>
  <h4>GST NO.: 27AAYPA2006L2ZL</h4>
  <!-- <h4 style="padding-left: 70%;">DATE: {{data.date}}</h4> -->
   <h4> PARTY:SHARPINDUSTRIES, NAGPUR</h4>
   <h4>LOT</h4>
   <!-- <span style="padding-left: 15%;">Binding Order No.</span>{{data.border_id}} -->

   <div style="float:left; margin-left: 12px; display: flex; justify-content: space-evenly; font-weight: bold;">
      <span>Binding Order:</span><span>{{data.id}}</span>
      <h4 style="margin-left: 365px;">DATE: {{data.}}</h4>
   </div><br>

<div style="float:center; margin-center: 12px; display: flex; justify-content: space-evenly; font-weight: bold;">
    <h3>
    RAW MATERIAL CONSUMED
    </h3>
   </div>
<div class="div2">
   <table >
   <tr>
      <th style='text-align:center;'>SR. </th>
      <!-- <th style='text-align:center;'>BRAND </th>
      <th style='text-align:center;'>STD. </th>
      <th style='text-align:center;'>MEDIUM. </th> -->
      <th style='text-align:center;'>ITEM NAME</th>
      
      <th style='text-align:center;'>QUANTITY</th>
      <th style='text-align:center;'>UNITS</th>
      
      
      <!-- <th style='text-align:center;'>RIM</th> -->
   </tr>
  

  {% if data.bom_item_name_1 %}
   <tr>
      <td style='text-align:center;'>1.</td>
      <td style='text-align:center;'>{{data.bom_item_name_1}}</td>
      <td style='text-align:center;'>{{data.bom_qty_1}}</td>
      <td style='text-align:center;'>{{data.bom_unit_1}}</td>
           
   {% endif %}
   </tr>
  
   {% for item in dynamic_data %}
   <tr>
       <td style='text-align:center;'>{{ forloop.counter }}.</td>
       <td style='text-align:center;'>{{ item.bom_item_name }}</td>
       <td style='text-align:center;'>{{ item.bom_qty }}</td>
       <td style='text-align:center;'>{{ item.bom_unit }}</td>
       
   </tr>
  {% endfor %}
   
<!-- $-->


  












   <tr>
      <td style='text-align:center;'></td>
      <th style='text-align:center;'>TOTAL</th>
      <td style='text-align:center;'></td>
      <td style='text-align:center;'>{{data.binding_order_total}}</td> 
      
      
      
     
      <!-- <td style='text-align:center;'>{{data.total_rim}}</td>   -->
   </tr> 
</table>
<div style="float:center; margin-center: 12px; display: flex; justify-content: space-evenly; font-weight: bold;">
    <h3>
    BY PRODUCT GENERATED
    </h3>
   </div>
   <table >
    <tr>
       <th style='text-align:center;'>SR. </th>
       <!-- <th style='text-align:center;'>BRAND </th>
       <th style='text-align:center;'>STD. </th>
       <th style='text-align:center;'>MEDIUM. </th> -->
       <th style='text-align:center;'>ITEM NAME</th>
       
       <th style='text-align:center;'>QUANTITY</th>
       <th style='text-align:center;'>UNITS</th>
       
        
       <!-- <th style='text-align:center;'>RIM</th> -->
    </tr>
   
 
   {% if data.bom_generated_item_1 %}
    <tr>
       <td style='text-align:center;'>1.</td>
       <td style='text-align:center;'>{{data.bom_generated_item_1}}</td>
       <td style='text-align:center;'>{{data.bom_generated_qty_1}}</td>
       <td style='text-align:center;'>{{data.bom_generated_unit_1}}</td>
       
       
       
    {% endif %}
    </tr>
   
    {% for item in dynamic_data1 %}
    <tr>
        <td style='text-align:center;'>{{ forloop.counter }}.</td>
        <td style='text-align:center;'>{{ item.bom_generated_item }}</td>
        <td style='text-align:center;'>{{ item.bom_generated_qty }}</td>
        <td style='text-align:center;'>{{ item.bom_generated_unit }}</td>
        
    </tr>
   {% endfor %}
 
   
    
 
    <tr>
       <td style='text-align:center;'></td>
       <th style='text-align:center;'>TOTAL</th>
       <td style='text-align:center;'></td>
      
       <td style='text-align:center;'>{{total_amount1}}</td> 
       
       
       
      
       <!-- <td style='text-align:center;'>{{data.total_rim}}</td>   -->
    </tr> 
 </table>
</div>
</center>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>
<script type="text/javascript">
  function savePage() {
    // Hide the buttons temporarily
    var pdfButton = document.getElementById('pdf-button');
    var printButton = document.getElementById('print-button');
    pdfButton.style.display = 'none';
    printButton.style.display = 'none';

    // Get the current HTML of the page
    var html = document.documentElement;

    // Set the options for the PDF conversion
    var options = {
      margin: [10, 10],
      filename: 'Bill View .pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'mm', format: 'a4', orientation: 'landscape' }
    };

    // Convert the HTML to PDF using html2pdf.js
    html2pdf().set(options).from(html).save();

    // Restore the visibility of the buttons after PDF generation
    pdfButton.style.display = 'block';
    printButton.style.display = 'block';
  }
</script>

</body>
</html>


