{% extends 'base.html' %}
{% load static %}

{% block content %}
<title>{% block title %}Customer{% endblock %}</title>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>orders</title>
    <style>
        * {
            font-family: Georgia;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 50px;
            border: 1px solid #888;
            width: 50%;
            max-width: 750px;
        }


        .select-style {
            border-radius: 0.25rem;
            border-color: black;
        }

        .form-control {
            border-radius: 0.25rem;
            border-color: black;
            padding-left: 10%;
        }

        .title h3 {

            border-bottom: 2px solid blueviolet;
            display: inline-block;
            color: #000;
            font-weight: bold;
        }

        .title h5 {

            display: inline-block;

        }
        body {
            text-align: center;
        }
    </style>
   
    <style>
            /* Add some basic styling for better presentation */
            .form-container {
                max-width: 400px;
                margin: 4 10px;
                padding: 20px;
                border: 1px solid #ccc;
                border-radius: 20px;
            }
            
    </style>
    <style>
        .parent-container {
            display: flex;
        }

        .form-container {
            flex: 1;
            margin: 4 10px;
            color: black;
            background-color: lightcyan;
            text-align: right;
        }

        h6 {
            color: red;
            font-color: mediumaquamarine;
            text-align: left;
        }
        .parent-container1 {
            display: flex;
            flex-direction: column;
            color: black;
            background-color: lightcyan;
            text-align: left;
            margin-left: 20px;
            padding: 10px;
        }
    
        .form-container1 {
            margin: 5px;
        }
    
        h6 {
            color: red;
            font-color: mediumaquamarine;
            text-align: left;
        }
    
        label {
            color: dark-black; /* Note: There is no dark-black color, consider using 'black' or another valid color */
            font-color: lightcyan;
            text-align: left;
        }
    </style>
    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="page-wrapper">
        <div class="page-content" >
            <div class="page-breadcrumb  mb-3 p-5" style="background-color: lightcyan;">
                <div class="breadcrumb-title pe-3" style="color:black; background-color:lightcyan;text-align:left; width:1000px;">
                    <h5 style="color:black; background-color:mediumaquamarine;text-align:center;padding: 11px 0px 11px 0px; border-radius: 3px;">Sale Type Info</h5>
                </div>
                {% comment %} <hr>
                
                <br> {% endcomment %}
               
                
                            {% comment %} <div class="panel-heading"
                        style="color:black; background-color:mediumaquamarine;text-align:center; ">
                        <h3 style="color:white;">Sale Type Now</h3>
                            </div> {% endcomment %}
                            {% comment %} <hr style="color:black"> {% endcomment %}
                            <form method="POST" onsubmit="return myfun()">
                                {% csrf_token %}
                                <div class="panel-body">
                                    <div class="">
                                        <div class="title">
                                        <div class="row" style="text-align: right;">
                                            <div class="col-md-8"></div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control mobile" name="t_sale_date"
                                                            id="ord_date" placeholder="{% now 'Y-m-d' %}" value=""
                                                            required max="{% now 'Y-m-d' %}" readonly />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" >
                                            <div class="row" >
                                                <div class="d-grid gap-2 col-sm-6">
                                                    <div class="mb-3">
                                                    <label for="name" class="control-label"><b>Sale Type<span
                                                                style="color:red;">*</span></b></label>
                                                                
                                                        <input class="form-control" id="" name="sale_type" >
        
                                                </div>
                                                </div>
                                                <div class="d-grid gap-2 col-sm-6">
                                                    <div class="mb-3">
                                                     <label for="name" class="control-label"><b>Sale Account<span
                                                                style="color:red;">*</span></b></label>
                                                     <input class="form-control" id="sale_account" name="sale_account" >
                                                    </div>
                                                </div>
                                       
                                       
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="mb-3">
                                                    <label>Taxation Type<span style="color:red;"></span></label>
                                                    <select class="form-control" name="taxation_type" id="code_1">
                                                        <option value="" disabled selected>Select Taxation Type</option>
                                                        <option value="Taxable">Taxable</option>
                                                        <option value="Against S. T. Form"> Against S. T. Form</option>
                                                        <option value="Exempt">Exempt</option>
                                                        <option value="Lump-Sum Dealer">Lump-Sum Dealer</option>
                                                        <option value="Multi-Tax">Multi-Tax</option>
                                                        <option value="Tax Paid">Tax Paid</option>
                                                        <option value="Tax Free">Tax Free</option>
                                                        <option value="Un Regd. Dealer">Un Regd. Dealer</option>
                                                        
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="d-grid gap-2 col-sm-6">
                                                <div class="mb-3">

                                                <label for="name" class="control-label"><b>Tax Invoice<span
                                                            style="color:red;"></span></b></label>
                                                            <select class="form-control" name="tax_invoice" id="tax_invoice">
                                                                <option value="" disabled selected>Select Tax Invoice</option>
                                                                <option value="Yes">Yes</option>
                                                                <option value="No">No</option>
                                                                
                                                                
                                                            </select>

                                            </div>

                                        </div>
                                        </div>

                                            {% comment %} new code {% endcomment %}
                                            
                                            <div id="conditional-container"  style="color:black; background-color:lightcyan;text-align:left; width:1000px ;display: none;">
                                              <h5  style="color:black; background-color:mediumaquamarine;text-align:center;">Add Sale Type Master</h5><lable style="float: right; margin-bottom: -20px;"><u><b>Tax Type:GST</b></u></lable>
                                              <div style="display: flex; margin-top: 11px; width:50%">
                                                <div style="float: left; width:30%;"><h6 style="color: blue; font-color: mediumaquamarine; text-align: left;">Sale Type</h6></div>
                                                <div style="float: right; width:70%;"><input type="text" name="Sale Type" value="" style="background-color: rgb(255, 255, 255); width: 350px;"/></div>
                                              </div><br>
                                              <div style="display:flex;flex-wrap: wrap; width:100%;">
                                                <div style="width:50%;">
                                                    <!--------------sales account information--------->
                                                      <div style="border: 1px solid black; padding: 10px 20px 10px 20px;">  
                                                        <h6 style="color: red; font-color: mediumaquamarine; text-align: left;">Sales Account Information</h6>
                                                   
                                                      <div style="display: flex;">
                                                        <div style="width:50%;">
                                                             <span><input class="form-check-input" type="radio" id="specify_here" name="specify_here" value="specify_here"> 
                                                                <label class="form-check-label" for="specify_here"> Specify here (Single A/C)</label></span><br>
                                                                <span> <input type="radio" class="form-check-input" id="specify_voucher" name="specify_here" value="specify_voucher">
                                                                    <label class="form-check-label" for="specify_voucher"> Specify in Voucher</label></span>
                                                        </div>
                                                        <div style="width:50%;">
                                                            <span> <h6 style="color: red; font-color: mediumaquamarine; text-align: right;">TEA BLEND SALES A/C</h6></span><br>
                                                            <span><input type="button" name="configure" value="configure"/></span>
                                                        </div>
                                                      </div>
                                                     </div><br>
                                                       <!--------------------taxation type-------------->
                                                       <div style="border: 1px solid black; padding: 10px 20px 10px 20px;">
                                                        <h6 style="color:red; font-color:mediumaquamarine; text-align:left; width: 200px;">Taxation Type</h6>
                                                         <div style="display: flex;">
                                                               <div style="width: 50%;">
                                                              
                                                                   
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="taxable_voucher" name="taxable_voucher" value="taxable voucher"> 
                                                                        <label class="form-check-label" for="taxable_voucher">Taxable (Voucher-Wise)</label>
                                                                    </span><br>
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="t_exempt" name="taxable_voucher" value="exempt"> 
                                                                        <label class="form-check-label" for="t_exempt">Exempt</label>
                                                                    </span><br>
                                                                    
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="reverse_charge" name="taxable_voucher" value="reverse charge"> 
                                                                        <label class="form-check-label" for="reverse_charge">Reverse Charge</label>
                                                                    </span>
                                                                    
                                                                </div>      
                                                               
                                                               <div style="width: 50%;">
                                                               
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="taxable_item" name="non_gst" value="taxable_item"> 
                                                                        <label class="form-check-label" for="taxable_item">Taxable (item-wise)</label>
                                                                    </span><br>
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="non_gst" name="non_gst" value="non_gst">
                                                                        <label class="form-check-label" for="non_gst"> Non-GST</label>
                                                                    </span><br>
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="zero_rated" name="non_gst" value="zero_rated">
                                                                        <label class="form-check-label" for="zero_rated">  Zero Rated</label>
                                                                    </span><br>
                                                                    <span>
                                                                        <input type="radio" class="form-check-input" id="nil_rated" name="non_gst" value="nil_rated">
                                                                        <label class="form-check-label" for="nil_rated">  Nil Rated</label>
                                                                    </span>
                                                               
                                                                </div>
                                                                </div>

                                                           </div> <br>
                                                           <!-----------3rd block----------------->
                                                             <div style=" padding: 10px 20px 10px 20px;">
                                                                <label style="color:red; font-color:mediumaquamarine; ">(Above information can not be changed if any transaction exist for this Sale Type)</label><br>
                                                                <span>Sale through E-Commerce Portal (e.g Amazon,Flipkart,etc)</span>&nbsp;&nbsp;<span><b>N</b></span><br>
                                                                <span>Supplies notiefied u/s 9(5)(e.g. Zomato,Swiggy, etc)</span>&nbsp;&nbsp;<span><b>N</b></span><br>
                                                                <span>E-Commerece Portal Name</span>
                                                                 
                                                             </div><br>
                                                             <!--------------4th block------------>
                                                           
                                                                <div style="border: 1px solid black;  padding: 10px 20px 10px 20px;">
                                                                    <h6  style="color:red; font-color:lightcyan;text-align:left;">Other  Information</h6>
                                                                    <br> <br> <br> <br> <br><br>
                                                                   <label> Skip in GST Reports</label>  &nbsp;&nbsp;     <label><b>N</b></label>
                                                                </div>
                                                           </div> 
                                                            <!---------------2nd column-------------->
                                                            <div style="width:50%;">
                                                                <!--------region---------------->
                                                                <div style="border: 1px solid black; padding: 10px 20px 10px 20px; margin-left: 8px;">  
                                                                    <h6 style="color: red; font-color: mediumaquamarine; text-align: left;">Region</h6>
                                                                <span>
                                                                    <input type="radio" class="form-check-input" id="local" name="local" value="local">
                                                                    <label class="form-check-label" for="local"> Local</label>
                                                                </span>
                                                                <div style="border:1px solid rgb(166, 159, 159); padding: 10px 20px 10px 20px; margin-left: 5px;" class="">
                                                                    <h6 style="color: red; font-color: lightcyan; text-align: left;">Type of Transaction</h6>
                                                                    <span>
                                                                        <input type="radio" class="form-check-input" id="stock_transfer" name="stock_transfer" value="stock transfer" >
                                                                        <label class="form-check-label" for="stock_transfer" > Stock Transfer</label>
                                                                    </span>
                                                                
                                                                    <span>
                                                                        <input type="radio" class="form-check-input" id="deemed_export" name="stock_transfer" value="deemed export" style="margin-left: 20px;">
                                                                        <label class="form-check-label" for="deemed_export" style="margin-left: 40px;">Deemed Export</label>
                                                                    </span><br>
                                                                
                                                                    <span>
                                                                        <input type="radio" class="form-check-input" id="others" name="stock_transfer" value="others">
                                                                        <label class="form-check-label" for="others">Other</label>
                                                                    </span>

                                                                </div> 
                                                                <span>
                                                                    <input type="radio" class="form-check-input" id="central" name="local" value="central">
                                                                    <label class="form-check-label" for="central"> Central</label>
                                                                </span>
                                                            </div><br>
                                                         <!-------Form information------>
                                                    <div style="border: 1px solid black;  padding: 10px 20px 10px 20px; margin-left: 8px;">
                                                        <div class=""  style="color:black; background-color:lightcyan; ">
                                                            <h6  style="color:red; font-color:lightcyan;text-align:left;">Form Information</h6>
                                                            <label> Issue ST Form</label><br>
                                                            <label> Form Issuable</label><br>
                                                            <label> Receive ST Form</label><br>
                                                            <label> Form Receivable</label>


                                                    </div>
                                                    </div><br>
                                                    <!--------tax calculation----->

                                                                

                                                              
 <div style="border: 1px solid black;  padding: 10px 20px 10px 20px; margin-left: 8px;">
                                                        <h6 style="color: red; font-color: lightcyan; text-align: left;">Tax Calculation</h6>
                                                            <div style="display:flex">
                                                                 <div style="width:50%;">
                                                                    <span>
                                                                        <input class="form-check-input" type="radio" id="single_tax" name="p_single_tax" value="single tax"> 
                                                                        <label class="form-check-label" for="single_tax">Single Tax Rate</label>
                                                                    </span><br>
                                                                    <span> CGST Rate (in %) </span><br>     
                                                                       <span> SGST Rate (in %) </span><br>
                                                                      <span>Freeze Tax in Sales </span><br>
                                                                       <span>Freeze Tax in Sales Return </span>
                                                                </div>
                                                                 <div style="width:50%;">
                                                                    <span><input class="form-check-input" type="radio" id="multi_rate" name="p_single_tax" value="multi rate"> 
                                                                        <label class="form-check-label" for="multi_rate">Multi Tax Rate</label></span><br>
                                                                    <span><b>0.00</b></span><br>
                                                                    <span><b>0.00</b></span><br>
                                                                    <span><b>N</b></span><br>
                                                                    <span><b>N</b></span>
                                                                </div>
                                                            </div>
                                                    </div>
                                                    <!-------Apply consolidated-------->
                                                    <div style="padding: 10px 20px 10px 20px;">
                                                        <span>Apply Consolidated Tax Amt for all Tax Rates</span>&nbsp;<b>N</b>
                                                    </div>
                                                    <!------------for printing -->
                                                    <div style="border: 1px solid black;  padding: 10px 20px 10px 20px; margin-left: 8px;">
                                                        <div class=""  style="color:black; background-color:lightcyan;text-align:left; margin-left: 20px; ">
                                                            <h6  style="color:red; font-color:lightcyan;text-align:left;">For Printing in Documents</h6>
                                                            
                                                            <label>
                                                                Invoice Heading <br> 
                                                                Invoice Description <br>
                                                                
                                                            </label><br>
                                                            
                                                        </div> 
                                                    </div>

                                                </div>
                                               
                                                   
                                                </div>
                                                <!--------------create back-->

                                    <div class="col-md-12">
                                        <div class="text-center mt-3 mb-3">
                                            <button type="submit" class="btn btn-primary" name="create_form_btn"
                                                value="save_cashmemo_btn"
                                                style="background-color:mediumaquamarine;">Create</button>
                                            <a href="{{ form.get_cancel_link }}" >
                                                      <button type="button" class="btn btn-primary" style="background-color: mediumaquamarine; color:white; pointer-events: auto;">Back</button>
                                                  </a>
                                            <!-- <button type="button" class="btn btn-primary close" data-dismiss="modal" style="background-color:mediumaquamarine;">Close</button> -->
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </div>
                    </form>
                {% comment %} </div>
            </div> {% endcomment %}
       

            <!-- uper vali new add kiya hai  -->
            
        </div>
    </div>
    <script>
        document.getElementById('tax_invoice').addEventListener('change', function () {
            var conditionalContainer = document.getElementById('conditional-container');
            if (this.value === 'Yes') {
                conditionalContainer.style.display = 'block';
            } else {
                conditionalContainer.style.display = 'none';
            }
        });
    </script>
    
       
    
    

    


        <!--script of dependency and add new item button ,remove button with correct position of buttons  -->

        


        <!-- script without proper position but it is working all conditions  -->
        <!-- 

<script>
    var counter = 0;

    function addNewField() {
        if (counter < 51) {
            var container = document.getElementById("additionalFieldsContainer");
            var fieldHTML = `
            <div id="field_${counter}">
                <div class="row">
                    <div class="col-md-2">
                        <label for="name" class="control-label"><b>Subject<span style="color:red;">*</span></b></label>
                    </div>
                    <div class="col-md-4">
                        <select type="text" class="form-control mobile" name="subject_${counter}" id="subject_${counter}" onchange="updateBindingRate(${counter})">
                            <option disabled selected value>Select Subject</option>
                            {% for i in book %}
                            <option value="{{ i.subject }}">{{i.subject}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="name" class="control-label"><b>Quantity<span style="color:red;">*</span></b></label>
                    </div>
                    <div class="col-md-2">
                        <input type="number" class="form-control mobile" name="quantity_${counter}" id="quantity_${counter}" />
                    </div>
                    <div class="col-md-2">
                        <label for="name" class="control-label"><b>Binding Rate<span style="color:red;">*</span></b></label>
                    </div>
                    <div class="col-md-4">
                        <select type="number" class="form-control mobile" name="rate_binding_${counter}" id="rate_binding_${counter}">
                            <option disabled selected value>Select Rate</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <button type="button" class="btn btn-danger" onclick="removeField(${counter})">Remove</button>
                    </div>
                </div>
            </div>
            `;
            container.insertAdjacentHTML("beforeend", fieldHTML);
            counter++;
        }
    }

    function removeField(fieldId) {
        var fieldToRemove = document.getElementById("field_" + fieldId);
        fieldToRemove.remove();
    }

    function updateBindingRate(fieldId) {
        var subjectField = document.getElementById("subject_" + fieldId);
        var rateBindingField = document.getElementById("rate_binding_" + fieldId);

        // Clear previous options
        rateBindingField.innerHTML = '<option disabled selected value>Select Rate</option>';

        // Get the selected subject
        var selectedSubject = subjectField.value;

        // Add options based on the selected subject
        {% for i in book %}
        if ("{{i.subject}}" === selectedSubject) {
            var option = document.createElement("option");
            option.text = "{{i.binding_rate}}";
            rateBindingField.add(option);
        }
        {% endfor %}
    }
</script>
 -->

        <!-- script working for 1 item dependency  -->

       

        <script>
            // Get the modal
            var modal = document.getElementById("myModal");

            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks the button, open the modal 
            btn.onclick = function () {
                modal.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

        </script>




        <!-- <script>
  flatpickr("#date", {
    dateFormat: "d-m-Y",
    altInput: true,
    altFormat: "d-m-Y",
    allowInput: true,
    maxDate: "today"
  });
</script> -->



</body>
<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

</html>

{% endblock %}