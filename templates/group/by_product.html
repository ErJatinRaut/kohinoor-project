{% extends 'base.html' %}
{% load static %}

{% block content %}
<title>{% block title %}Customer{% endblock %}</title>

<style>
   *
   {
    font-family: Georgia;
   }
   .modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 60%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
.box {
  width: 40%;
  margin: 0 auto;
  background: rgba(255,255,255,0.2);
  padding: 35px;
  border: 2px solid #fff;
  border-radius: 20px/50px;
  background-clip: padding-box;
  text-align: center;
}

.button {
  font-size: 1em;
  padding: 10px;
  color: #fff;
  border: 2px solid #06D85F;
  border-radius: 20px/50px;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease-out;
}
.button:hover {
  background: #06D85F;
}

.overlay {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  transition: opacity 500ms;
  visibility: hidden;
  opacity: 0;
}
.overlay:target {
  visibility: visible;
  opacity: 1;
}

.popup {
  margin: 70px auto;
  padding: 20px;
  background: #fff;
  border-radius: 5px;
  width: 30%;
  position: relative;
  transition: all 5s ease-in-out;
}

.popup h4 {
  margin-top: 0;
  color: #333;
  /* font-family: Tahoma, Arial, sans-serif; */
}
.popup .close {
  position: absolute;
  top: 20px;
  right: 30px;
  transition: all 200ms;
  font-size: 30px;
  font-weight: bold;
  text-decoration: none;
  color: #333;
}
.popup .close:hover {
  color: #06D85F;
}
.popup .content {
  max-height: 30%;
  overflow: auto;
}

@media screen and (max-width: 700px){
  .box{
    width: 70%;
  }
  .popup{
    width: 70%;
  }
}
.myModal{
    width: 100%;
    padding: 10px;
    font-size: 16px;
  }

  .responsive-form input[type="text"],
  .responsive-form input[type="email"],
  .responsive-form textarea {
    width: 100%;
    margin-bottom: 10px;
  }

</style>
<style type="text/css">
  .select-style{
    border-radius: 0.25rem;
    border-color: black;
  }
  .form-control{
    border-radius: 0.25rem;
    border-color: black;
  }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"> 


<div class="page-wrapper">
    <div class="page-content">
        <!--breadcrumb-->
        <div class="page-breadcrumb  mb-3">
            <div class="breadcrumb-title pe-3">By Product Info</div>
            <hr>
            <div class="d-grid gap-2  justify-content-md-end" style="margin-right: 50px;">
                <button class="btn btn-primary me-md-2" style=background-color:mediumaquamarine; id="myBtn" type="button"><i
                        class="fa fa-plus"></i>&nbsp;By Product</button>
                <!-- <button class="btn btn-primary me-md-2" id=""  type="button" src =><i class="fa fa-plus" ></i>&nbsp;Export PDF</button> -->
                {% comment %} <a href="{% url 'pdf_export' %}" class="btn btn-primary">Export PDF</a> {% endcomment %}
        
            </div>
            <!-- create -->
            <div id="myModal" class="modal">
        
        
        
        
                <div class="modal-content" style="background-color:lightcyan">
                    <!-- <span class="close text-end mb-2" onclick="this.parentNode.style.display = 'none'; return false;" style="float: right; font-size: 20px; color:#00569d; cursor: pointer;">âœ•</span>  -->
        
                    <div class="panel panel-default">
                        <div class="panel-heading" style="color:black; background-color:mediumaquamarine;text-align:center;">
                            <h4 style="color:white ;">Create By Product</h4>
                        </div>
                        <hr style="color:black">
                        <form method="POST" onsubmit="return myfun()">
                            {% csrf_token %}
                            <div class="panel-body" align="left">
                                <!-- <h4 class="modal-title" style="color:black;">Upload & Crop Image</h4> -->
                                <div class="row">
                                    <div class="d-grid gap-2 col-sm-6">
                                    <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">Name<span style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input width="50" type="text" min="0" name="pname" id="" class="form-control"
                                                    maxlength="30" value="" required>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-grid gap-2 col-sm-6">
                                    <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">Alias <span id="messages"
                                                    style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input width="50" type="name" name="palias" id="" class="form-control"
                                                    step="any" required>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">Material Center <span id="messages"
                                                    style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <select class="form-control" name="by_material_center" id="by_material_center" style="width:100%;" required>
                                                    <option disabled selected value>Select Material Center</option>
                                                    {% for i in data1 %}
                                                        <option>{{i.centre_name}}</option>
                                                    {% endfor %}
                                                    </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">Print Name<span style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input type="name" name="p_print_name" minlength="" class="form-control"
                                                    step="any" id="" placeholder="" maxlength=""
                                                    style="width:200px;padding:6px;">
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <div class="form-group">
                                            <label style="color: black;">Opening Stock(QTY)<span
                                                    style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" step="any" placeholder=""
                                                    name="opening_stock_p" id="opening_stock_p" class="form-control" maxlength=""
                                                    value="" required oninput="calculate()">
                                                <!-- <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="opening_stock_p" id="" class="form-control" step="any" maxlength=""
                                                    value="" required> -->
        
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <div class="input-group-append">
                                                    <select class="custom-select" name="punit">
                                                        <option value="kg">kg</option>
                                                        <option value="rim">rim</option>
                                                        <option value="sheet">sheet</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
        
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">Opening Stock(Value)<span
                                                    style="color: red;"></span></label>
                                            <div class="input-group mb-4">
                                                <input style="color: black;" width="50" type="number" step="any" placeholder=""
                                                    name="p_opening_stock_value" id="" class="form-control" maxlength=""
                                                    value="" required>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <!-- <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="color:black ;">GSM<span style="color: red;"></span></label>
                                            <div class="input-group mb-4">
                                                <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                    name="p_gsm" id="" class="form-control" maxlength="" value="48" required
                                                    readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="color:black;">P.Width<span style="color: red;"></span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                    name="p_p_width" id="" class="form-control" maxlength="" value="" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="color:black;">P.length<span style="color: red;"></span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                    name="p_p_length" id="" class="form-control" maxlength="" value="" required>
                                            </div>
                                        </div>
                                    </div> -->
                                    <!-- <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="color: black;">Unit1<span style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="punit1" id="" class="form-control" step="any" maxlength="" value=""
                                                    required> -->
        
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <!-- <div class="input-group-append">
                                                    <select class="custom-select" name="punit1">
                                                        <option value="kg">kg</option>
                                                        <option value="rim">rim</option>
                                                        <option value="sheet">sheet</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                   
                                        <div class="form-group">
                                            <label style="color: black;">Unit 1 Conversion<span
                                                    style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="punit1_conversion" id="punit1_conversion" class="form-control" step="any" maxlength=""
                                                    value="" required oninput="calculate()">
        
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <div class="input-group-append">
                                                    <select class="custom-select" name="pcunit1">
                                                        <option value="kg/rim">kg/rim</option>
                                                        <option value="rim/kg">rim/kg</option>
                                                        <!-- <option value="sheet">sheet</option> -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                   
                                        <div class="form-group">
                                            <label style="color: black;">Unit 2 Conversion<span
                                                    style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="punit2_conversion" id="punit2_conversion" class="form-control" step="any" maxlength=""
                                                    value="" required oninput="calculate()">
        
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <div class="input-group-append">
                                                    <select class="custom-select" name="pcunit2">
                                                        <option value="kg/rim">kg/sheet</option>
                                                        <option value="rim/kg">sheet/kg</option>
                                                        <!-- <option value="sheet">sheet</option> -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                   </div>
                                   <div class="d-grid gap-2 col-sm-6">
                                    <div class="md-3">
                               
                                        <div class="form-group">
                                            <label style="color: black;">Unit2<span style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="punit2" id="punit2" class="form-control" step="any" maxlength="" value="" readonly>
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <div class="input-group-append">
                                                    <select class="custom-select" name="punit22">
                                                        <option value="kg">kg</option>
                                                        <!-- <option value="rim">rim</option>
                                                        <option value="sheet">sheet</option> -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                   
                                        <div class="form-group">
                                            <label style="color: black;">Unit3<span style="color: red;">*</span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="number" placeholder=""
                                                    name="punit3" id="punit3" class="form-control" step="any" maxlength="" value="" readonly>
        
                                                <!-- Dropdown menu for kg, rim, and sheet options -->
                                                <div class="input-group-append">
                                                    <select class="custom-select" name="punit33">
                                                        <!-- <option value="kg">kg</option>
                                                        <option value="rim">rim</option> -->
                                                        <option value="sheet">sheet</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    

                                                <div class="mt-3">
                                                    <label style="color: black;">Item Price Information<span
                                                            style="color: red;"></span></label>
                                                </div>
                                            
                                    <div class="row">
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="md-3">
                                       
                                            <div class="form-group">
                                                <label style="color:black;">Sale Price<span style="color: red;"></span></label>
                                                <div class="input-group mb-3">
                                                    <input style="color: black;" width="50" type="text" step="any"
                                                        placeholder="" name="sale_price" id="" class="form-control" maxlength=""
                                                        value="" >
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="md-3">
                                       
                                            <div class="form-group">
                                                <label style="color:black;">Purchase Price<span
                                                        style="color: red;"></span></label>
                                                <div class="input-group mb-3">
                                                    <input style="color: black;" width="50" type="text" step="any"
                                                        placeholder="" name="purchase_price" id="" class="form-control"
                                                        maxlength="" value="" >
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="md-3">
                                       
                                            <div class="form-group">
                                                <label style="color:black;">M.R.P<span style="color: red;"></span></label>
                                                <div class="input-group mb-3">
                                                    <input style="color: black;" width="50" type="text" step="any"
                                                        placeholder="" name="mrp" id="" class="form-control" maxlength=""
                                                        value="" required>
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="md-3">
                                            <div class="form-group">
                                                <label style="color:black;">Min Sale Price<span
                                                        style="color: red;"></span></label>
                                                <div class="input-group mb-3">
                                                    <input style="color: black;" width="50" type="text" step="any"
                                                        placeholder="" name="min_sale_price" id="" class="form-control"
                                                        maxlength="" value="" >
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="d-grid gap-2 col-sm-6">
                                            <div class="md-3">
                                            <div class="form-group">
                                                <label style="color:black;">Sale Value Price<span
                                                        style="color: red;"></span></label>
                                                <div class="input-group mb-3">
                                                    <input style="color: black;" width="50" type="text" step="any"
                                                        placeholder="" name="sale_value_price" id="" class="form-control"
                                                        maxlength="" value="" required>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="mt-3 text-left">
                                        <label style="color: black;">Tax Information<span style="color: red;"></span></label>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <div class="form-group">
                                            <label style="color:black;">Rate Of Tax(local)<span
                                                    style="color: red;"></span></label>
                                            <div class="input-group mb-3">
                                                <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                    name="product_tax_local" id="" class="form-control" maxlength="" value=""
                                                    required>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <label style="color:black;">Rate Of Tax(Central)<span
                                                style="color: red;"></span></label>
                                        <div class="input-group mb-3">
                                            <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                name="product_tax_central" id="" class="form-control" maxlength="" value=""
                                                required>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <label style="color:black;">GST %<span style="color: red;"></span></label>
                                        <div class="input-group mb-3">
                                            <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                name="product_gst" id="" class="form-control" maxlength="" value="" required>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="d-grid gap-2 col-sm-6">
                                        <div class="md-3">
                                        <label style="color:black;">Item Description<span style="color: red;"></span></label>
                                        <div class="input-group mb-3">
                                            <input style="color: black;" width="50" type="text" step="any" placeholder=""
                                                name="product_item_description" id="" class="form-control" maxlength="" value=""
                                                required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
        
        
        
                            <div class="col-md-8 text-center"></div>
                            <div class="col-md-12 text-center" style="">
                                 <a href="{{ form.get_cancel_link }}" >
                                                      <button type="button" class="btn btn-primary" style="background-color: mediumaquamarine; color:white; pointer-events: auto;">Back</button>
                                                  </a>
                                <button type="submit" class="btn btn-primary"
                                    style="background-color:mediumaquamarine ; color:white;">Save</button>
                            </div>
                    </div>
                    </form>
                </div>
            </div>
        </div>
                                 
                <!-- table -->
                <div class="card-body" style="">
                    <div class="row" style="text-align: center;" >
                        <div class="col-md-12" >
                            <div class="table-responsive">
                                <table  class="display table table-hover table-striped table-bordered" >
                                    <thead>
                                        <tr style="text-align: center; background-color: lightcyan;">
                                            <th align="center">Sr.No</th>
                                            <th align="center">Name</th>
                                            <th align="center">Alias</th>
                                            <th align="center">Print Name</th>
                                            <th align="center">Opening Stock(QTY) </th>
                                            <!-- <th align="center">Unit</th> -->
                                            <th align="center">Opening Stock(Value)</th> 
                                            <!-- <th align="center">GSM</th> 
                                            <th align="center">P.Width </th>
                                            <th align="center">P.length</th> -->
                                            <!-- <th align="center">Unit1</th> -->
                                            <th align="center">Unit1 Conversion</th> 
                                            <th align="center">Unit2 Conversion</th>
                                            <th align="center">Unit2</th>
                                            <th align="center">Unit3</th>
                                            
                                            <!-- <th align="center">pcunit1</th> -->
                                            
                                            <!-- <th align="center">pcunit2</th> -->
                                            <th align="center">sale_price</th>
                                            <th align="center">Purchase Price</th>
                                            <th align="center">M.R.P</th>
                                            <th align="center">Min Sale Price</th>
                                            <th align="center">Sale Value Price</th>
                                            <th align="center">Rate Of Tax(local)</th>
                                            <th align="center">Rate Of Tax(Central)</th>
                                            <th align="center">GST</th>
                                            <th align="center">Item Description</th>
                                            <th align="center">Material Center</th>
                                            <th align="center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for i in data25 %}
                                        <tr >
                                            <td >
                                                {{ forloop.counter }}
                                            </td>
                                             <td>
                                                {{ i.pname }}
                                            </td> 
                                            <td >
                                                {{ i.palias }}
                                            </td>
                                            <td >
                                                {{ i.p_print_name }}
                                            </td>
                                            <td >
                                                {{ i.opening_stock_p }} {{ i.punit }}
                                            </td>
                                            <!-- <td >
                                                {{ i.punit }}
                                            </td> -->
                                            <td >
                                                {{ i.p_opening_stock_value }}
                                            </td>
                                            <!-- <td >
                                                {{ i.p_gsm }}
                                            </td> 
                                            <td >
                                                {{ i.p_p_width }}
                                            </td>
                                            <td >
                                                {{ i.p_p_length }}
                                            </td> -->
                                            <!-- <td >
                                                {{ i.punit1 }}
                                            </td>  -->
                                            <td>
                                                {{i.punit1_conversion}} {{i.pcunit1}}
                                            </td>
                                            <td>
                                                {{i.punit2_conversion}} {{i.pcunit2}}
                                            </td>  
                                            <td >
                                                {{ i.punit2 }} {{i.punit22}}
                                            </td>
                                            <td >
                                                {{ i.punit3 }} {{i.punit33}}
                                            </td> 
                                            
                                            <!-- <td>
                                                {{i.pcunit1}}
                                            </td>  -->
                                            
                                            <!-- <td>
                                                {{i.pcunit2}}
                                            </td>  -->
                                            <td>
                                                {{i.sale_price}}
                                            </td>     
                                            <td>
                                                {{i.purchase_price}}
                                            </td>     
                                            <td>
                                                {{i.mrp}}
                                            </td>     
                                            <td>
                                                {{i.min_sale_price}}
                                            </td>  
                                            <td>
                                                {{i.sale_value_price}}
                                            </td>  
                                            <td>
                                                {{i.product_tax_local}}
                                            </td>  
                                            <td>
                                                {{i.product_tax_central}}
                                            </td>    
                                            <td>
                                                {{i.product_gst}}
                                            </td>    
                                            <td>
                                                {{i.product_item_description}}
                                            </td> 
                                             <td>
                                                {{i.by_material_center}}
                                            </td>                                                                                          
                                            <td>
                                                
                                                    <!-- <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                    <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                     -->
                                                     {% if request.user.is_authenticated and request.user.is_superuser  %}
                                                    <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif  %}
                                                {% if request.user.is_authenticated and request.user.is_printing and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_gathering and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_binding and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_cutting and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_packing and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_sale and request.user.is_master_listing and request.user.is_master  %}
                                                   <a  href="/edit_by_product/{{i.id}}/"> <i class="bi bi-pencil-square"></i></a>
                                                {% endif %}
                                                
                                                {% if request.user.is_authenticated and request.user.is_superuser   %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_printing and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_gathering and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_binding and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_cutting and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_packing and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                {% if request.user.is_authenticated and request.user.is_sale and request.user.is_master_listing and request.user.is_master_deletion  %}
                                                <a  href="/delete_by_product/{{i.id}}/"><i class="bi bi-archive"></i></a>
                                                {% endif %}
                                                </div>
                                            </td>
                                            {% endfor %}
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>   
    <script>
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function() {
          modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
          modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
          if (event.target == modal) {
            modal.style.display = "none";
          }
        }


        </script>

        <script>
            // Function to perform calculations and update input fields
            function calculate() {
                // Get values from input fields
                var openingStockValue = parseFloat(document.getElementById('opening_stock_p').value);
                var unit1Conversion = parseFloat(document.getElementById('punit1_conversion').value);
                var unit2Conversion = parseFloat(document.getElementById('punit2_conversion').value);
    
                // Perform calculations
                var punit2Value = openingStockValue / unit1Conversion;
                var punit3Value = (openingStockValue / unit1Conversion) * unit2Conversion;
    
                // Update input fields with the calculated values
                document.getElementById('punit2').value = punit2Value.toFixed(2); // Adjust decimal places as needed
                document.getElementById('punit3').value = punit3Value.toFixed(2); // Adjust decimal places as needed
            }
        </script>
        

</body>  

{% endblock %}